
////////////////////////////////////////////////////////////////////////////////
// Обзор процессов клиент: содержит клиентские процедуры и функции по формированию
//                                HTML-обзора процессов и их шаблонов.
//  
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Обработчик нажатия поля ПредставлениеHTML
//
Процедура ПредставлениеHTMLПриНажатии(Элемент, ДанныеСобытия, СтандартнаяОбработка, Форма) Экспорт
	
	Если ОбзорПроцессовКлиентПереопределяемый.ПредставлениеHTMLПриНажатии(
		Элемент, ДанныеСобытия, СтандартнаяОбработка, Форма) Тогда
		
		Возврат;
	КонецЕсли;
	
	СтандартнаяОбработка = Ложь;
	Если Не ЗначениеЗаполнено(ДанныеСобытия.Href) Тогда 
		Возврат;
	КонецЕсли;	
	
	ДлинаСтрокиHref = СтрДлина(ДанныеСобытия.Href);
	
	СтрСсылка = Прав(ДанныеСобытия.Href, ДлинаСтрокиHref-6);
	
	Если Лев(СтрСсылка, 9) = "Подзадачи" Тогда
		СтрСсылка = СтрЗаменить(СтрСсылка, "Подзадачи_", "");
		УникальныйИдентификаторПроцесса = Лев(СтрСсылка, 36);
		НаименованиеПроцесса = СтрЗаменить(СтрСсылка, УникальныйИдентификаторПроцесса + "_", "");
		
		СсылкаНаПроцесс = ОбзорПроцессовВызовСервера.СсылкаНаПроцессПоУникальномуИдентификатору(
			Новый УникальныйИдентификатор(УникальныйИдентификаторПроцесса),
			НаименованиеПроцесса);
		
		ОткрытьФорму("Задача.ЗадачаИсполнителя.Форма.ЗадачиПоБизнесПроцессу",
			Новый Структура("ЗначениеОтбора", СсылкаНаПроцесс));
		
	ИначеЕсли Лев(ДанныеСобытия.Href, 6) = "v8doc:" Тогда 
		
		НавигационнаяСсылкаПоля = Сред(ДанныеСобытия.Href, 7);
		
		ПерейтиПоНавигационнойСсылке(НавигационнаяСсылкаПоля);
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
